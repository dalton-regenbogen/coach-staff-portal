<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Attendance Metrics</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
  </head>
  <body>
    <header>
      <div class="wrapper">
        <nav class="navBar">
          <ul class="navList-leftSide">
            <li><a class="navLink" href="TheBrand.html">THE BRAND</a></li>
            <li><a class="navLink" href="#">FAMILY</a></li>
            <li><a class="navLink" href="#">RESOURCES</a></li>
            <li><a class="navLink" href="#">PRACTICES</a></li>
          </ul>
          <div class="navLogo"><a href="homepage.html"><img src="/assets/website-logo.svg"></a></div>
          <div class="navList-rightSide">
            <a class="navIcon" href="attendance.html"><i class="fa-regular fa-square-check"></i></a>
           <a class="navIcon" href="metrics.html"><i class="fa-solid fa-filter"></i></a>
            <a class="navIcon" href="#"><i class="fa-regular fa-circle-user"></i></a>
          </div>
        </nav>
      </div>
    </header>
    <main>
      <div class="wrapper">
        <h1 class="metricsH1">Attendance Metrics</h1>

        <!-- Filters -->
        <div class="metricsFilters">
          <div>
            <label>From: <input type="date" id="fromDate"></label>
            <label>To: <input type="date" id="toDate"></label>
            <label>Week:
              <select id="weekSelect">
                <option value="current">Current</option>
                <option value="1">Week 1</option>
                <option value="2">Week 2</option>
                <option value="3">Week 3</option>
                <option value="4">Week 4</option>
                <option value="5">Week 5</option>
                <option value="6">Week 6</option>
                <option value="7">Week 7</option>
                <option value="8">Week 8</option>
                <option value="9">Week 9</option>
              </select>
            </label>
          </div>
          <div>
            <label>Age Group:
              <select id="ageSelect">
                <option value="all">All</option>
                <option value="6U">6&U</option>
                <option value="7-8">7-8</option>
                <option value="9-10">9-10</option>
                <option value="11-12">11-12</option>
                <option value="13-14">13-14</option>
                <option value="15-18">15-18</option>
              </select>
            </label>

            <button id="refreshBtn">Refresh</button>
          </div>
        </div>

        <!-- KPI cards -->
        <div class="kpi-wrap">
          <div class="kpi"><h2>Total Practice #</h2><p id="sessTotal">0</p></div>
          <div class="kpi"><h2>Total Athlete #</h2><p id="swimmersTotal">0</p></div>
          <div class="kpi"><h2>Attendance %</h2><p id="teamPct">‚Äì%</p></div>
          <div class="kpi"><h2>SOTW Athlete #</h2><p id="goalHit">0</p></div>
        </div>

        <!-- Trend chart -->
        <div id="trendCard">
          <canvas id="trendChart" height="140"></canvas>
        </div>

        <!-- Detail table -->
        <div class="table-wrap">
          <table id="detailTable" class="metricsTable">
            <thead>
              <tr>
                <th class="metricsTable-roundedLeft">
                  <span class="th-full">Swimmer</span>
                  <span class="th-sm">Name</span>
                </th>
                <th>
                  <span class="th-full">Age Group</span>
                  <span class="th-sm">Age</span>
                </th>
                <th>
                  <span class="th-full">Present %</span>
                  <span class="th-sm">%</span>
                </th>
                <th>
                  <span class="th-full">Present</span>
                  <span class="th-sm">‚úì</span>
                </th>
                <th>
                  <span class="th-full">Absent</span>
                  <span class="th-sm">ùòÖ</span>
                </th>
                <th class="metricsTable-roundedRight">
                  <span class="th-full">Unsure</span>
                  <span class="th-sm">?</span>
                </th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>

        <!-- Drill-down modal -->
        <div id="modal" class="modal"><div class="box">
          <h3 id="modalTitle"></h3>
          <table id="modalTable"><thead><tr><th>Date</th><th>Status</th></tr></thead><tbody></tbody></table>
          <button onclick="modal.classList.remove('show')">Close</button>
        </div>
      </div>
    </main>
    <footer >
      <div class="wrapper">
        <div class="footerGrid">
          <div class="footerSection footerOne">
            <div class="footerNav-linkLeft">
              <ul>
                <li><a class="footerNav-linkLeft-title" href="TheBrand.html">THE BRAND</a></li>
                <li><a class="footerNav-linkLeft-subtitle" href="TheBrand.html#MV-Section">Mission & Vision</a></li>
                <li><a class="footerNav-linkLeft-subtitle" href="TheBrand.html#CV-Section">Core Values</a></li>
              </ul>
            </div>
            <div class="footerNav-linkLeft">
              <Ul>
                <li><a class="footerNav-linkLeft-title" href="#">FAMILY</a></li>
                <li><a class="footerNav-linkLeft-subtitle" href="#">Example</a></li>
                <li><a class="footerNav-linkLeft-subtitle" href="#">Example</a></li>
                <li><a class="footerNav-linkLeft-subtitle" href="#">Example</a></li>
              </Ul>
            </div>
            <div class="footerNav-linkLeft">
              <Ul>
                <li><a class="footerNav-linkLeft-title" href="#">RESOURCES</a></li>
                <li><a class="footerNav-linkLeft-subtitle" href="#">Example</a></li>
                <li><a class="footerNav-linkLeft-subtitle" href="#">Example</a></li>
                <li><a class="footerNav-linkLeft-subtitle" href="#">Example</a></li>
              </Ul>
            </div>
            <div class="footerNav-linkLeft">
              <Ul>
                <li><a class="footerNav-linkLeft-title" href="#">PRACTICES</a></li>
                <li><a class="footerNav-linkLeft-subtitle" href="#">Example</a></li>
                <li><a class="footerNav-linkLeft-subtitle" href="#">Example</a></li>
                <li><a class="footerNav-linkLeft-subtitle" href="#">Example</a></li>
              </Ul>
            </div>
          </div>
          <div class="footerSection footerTwo">
            <div class="footerLogo"><a href="#index"><img src="/assets/website-logo-white.png"></a></div>
            <address>7197 Riley Rd Warrenton, VA 20187</address>
            <p>2025 Brookside Hurricanes Coaching Portal. All Rights Reserved.</p>
          </div>
          <div class="footerSection footerThree">
            <a href="#">ACCOUNT DASHBOARD</a>
            <a href="attendance.html">ATTENDANCE TRACKER</a>
            <a href="metrics.html">ATTENDANCE METRICS</a>
          </div>
        </div>
      </div>
    </footer>
    <!-- CDN libs -->
    <script type="module" src="/js/firebase-config.js"></script>
    <script type="module" src="/js/metrics.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script src="https://kit.fontawesome.com/f7c7da88f5.js" crossorigin="anonymous"></script>
  </body>
</html>
